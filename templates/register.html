{% extends "base.html" %}

{% block title %}Register{% endblock %}

{% block content %}
<h1>Register</h1>

<div class="form-container{% if current_user.is_authenticated and current_user.dark_mode_enabled %} dark-mode{% endif %}">
    <form method="POST" class="upload-form" id="registerForm">
        <label class="form-label" for="email">Email</label>
        <input class="form-input" type="email" name="email" required>

        <label class="form-label" for="password">Password</label>
        <input class="form-input" type="password" name="password" required>

        <button type="submit" class="main-button" id="registerButton">Register</button>

        <div id="spinner" style="display:none; margin-top:10px;">
            <img src="{{ url_for('static', filename='spinner.gif') }}" alt="Loading..." width="40">
        </div>
    </form>

    <p style="margin-top: 15px;">Already have an account? <a href="{{ url_for('login') }}">Login</a></p>
</div>

<script>
document.getElementById('registerForm').addEventListener('submit', function() {
    const btn = document.getElementById('registerButton');
    btn.disabled = true;
    btn.innerText = 'Registering...';
    document.getElementById('spinner').style.display = 'block';
});
</script>
{% endblock %}
